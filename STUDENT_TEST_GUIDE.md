# 🧪 学生界面测试指南

## 快速测试步骤

### 1️⃣ 打开浏览器
访问: **http://localhost:5000**

---

### 2️⃣ 使用学生账号登录

```
用户名: student_demo
密码: student123
```

---

### 3️⃣ 检查导航栏

✅ **应该看到**:
- 🏠 My Dashboard
- 📚 My Courses
- 🔍 Browse Courses
- ✏️ My Activities
- 🏆 Leaderboard

❌ **不应该看到**:
- ~~New Course~~ (这是教师功能)
- ~~New Activity~~ (这是教师功能)
- ~~Dashboard~~ (学生看的是"My Dashboard")

---

### 4️⃣ 检查仪表盘内容

**学生仪表盘应该显示**:

#### 📊 统计卡片 (4个渐变色卡片)
```
📚 Enrolled Courses  |  ✏️ Total Activities  |  ✅ Completed  |  📊 Completion Rate
        X                      Y                    Z                  XX%
```

#### 🚀 快速操作 (3个大按钮)
```
[📚 My Courses]  [🔍 Browse Courses]  [✏️ My Activities]
```

#### 📝 近期活动表格
显示最近的学习活动，包括：
- 活动名称
- 所属课程
- 活动类型 (Poll/Short Answer/Word Cloud)
- 完成状态 (✅ Completed / ⏳ Pending)

❌ **不应该看到**:
- ~~"Create New Course" 按钮~~
- ~~"Create New Activity" 按钮~~
- ~~"Edit" 或 "Delete" 按钮~~

---

### 5️⃣ 点击"Browse Courses"

**应该看到**:
- 所有可用课程的卡片
- 每个课程显示教师姓名 (👨‍🏫)
- 活动数量 (📝)
- **[✓ Enroll Now]** 按钮

**测试操作**:
1. 点击任意一个 "Enroll Now" 按钮
2. 应该弹出确认对话框
3. 确认后课程应该出现在"My Courses"中

---

### 6️⃣ 点击"My Courses"

**应该看到**:
- 已注册的所有课程
- 每个课程有**进度条**显示完成度
- 显示 "X/Y activities completed"
- **[View Details]** 和 **[Unenroll]** 按钮

**测试操作**:
1. 观察进度条是否正确显示
2. 点击 "View Details" 进入课程详情
3. 尝试 "Unenroll" 取消注册（会有确认提示）

---

### 7️⃣ 点击"My Activities"

**应该看到**:
- 表格形式的活动列表
- 活动名称、课程、类型、状态
- 区分 **✅ Completed** 和 **⏳ Pending**
- 底部有统计汇总

**测试操作**:
1. 找一个 "⏳ Pending" 的活动
2. 点击 "Participate" 按钮
3. 参与活动并提交
4. 返回后状态应该变成 "✅ Completed"

---

### 8️⃣ 对比教师账号

**打开隐私窗口/新标签页**

使用教师账号登录:
```
用户名: teacher_demo
密码: teacher123
```

**教师应该看到** (学生看不到的):
- ➕ New Course
- 📝 New Activity
- 编辑和删除课程的按钮
- 查看所有学生回答的权限

---

## 🔍 详细检查清单

### ✅ 导航栏检查
- [ ] 学生导航栏没有 "New Course"
- [ ] 学生导航栏没有 "New Activity"
- [ ] 学生导航栏有 "Browse Courses"
- [ ] 用户名旁边显示 "Student" 徽章

### ✅ 仪表盘检查
- [ ] 显示4个统计卡片 (渐变色背景)
- [ ] 显示快速操作区域
- [ ] 显示近期活动表格
- [ ] 显示已注册课程概览
- [ ] **没有**创建按钮

### ✅ 功能检查
- [ ] 可以浏览课程列表
- [ ] 可以注册课程
- [ ] 可以取消注册
- [ ] 可以查看课程详情
- [ ] 可以参与活动
- [ ] 可以查看自己的回答

### ❌ 不应该有的功能
- [ ] 创建课程按钮
- [ ] 创建活动按钮
- [ ] 编辑课程功能
- [ ] 删除课程功能
- [ ] 查看所有学生回答
- [ ] 导出数据功能
- [ ] AI生成活动功能

---

## 🐛 常见问题排查

### 问题1: 学生登录后还看到 "New Course"

**原因**: base.html 缓存或角色判断错误

**解决**:
1. 强制刷新浏览器 (Ctrl+F5)
2. 清除浏览器缓存
3. 检查 session 中的 role 是否正确
4. 重新登录

### 问题2: 学生可以访问 /course/create

**原因**: 路由权限装饰器未生效

**解决**:
1. 检查 `@teacher_required` 装饰器
2. 确认 Flask 应用已重启
3. 测试访问应返回 403 错误

### 问题3: 样式显示不正确

**原因**: CSS 文件未加载

**解决**:
1. 检查 student.css 文件是否存在于 `static/css/`
2. 模板中是否正确引入: `{% block extra_css %}`
3. 清除浏览器缓存

### 问题4: 统计数据显示为 0

**原因**: 学生未注册任何课程

**解决**:
1. 使用 "Browse Courses" 注册课程
2. 参与一些活动
3. 数据会自动更新

---

## 📸 预期效果截图描述

### 学生仪表盘
```
┌─────────────────────────────────────────────────┐
│ 📚 Learning Activity System       👤 student_demo│
│                                      Student  Logout│
├─────────────────────────────────────────────────┤
│ 🏠 My Dashboard │ 📚 My Courses │ 🔍 Browse │ ✏️ Activities │ 🏆 Leaderboard │
├─────────────────────────────────────────────────┤
│                                                 │
│ 📚 Welcome, student_demo!                       │
│ Student ID: S2024001                            │
│                                                 │
│ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐│
│ │紫色渐变 │ │粉色渐变 │ │蓝色渐变 │ │绿色渐变 ││
│ │📚 5     │ │✏️ 23    │ │✅ 18    │ │📊 78%   ││
│ │Courses  │ │Activities│ │Completed│ │Rate     ││
│ └─────────┘ └─────────┘ └─────────┘ └─────────┘│
│                                                 │
│ 🚀 Quick Actions                                │
│ ┌─────────┐ ┌─────────┐ ┌─────────┐           │
│ │   📚    │ │   🔍    │ │   ✏️    │           │
│ │My Courses│ │Browse  │ │My       │           │
│ │         │ │Courses  │ │Activities│           │
│ └─────────┘ └─────────┘ └─────────┘           │
│                                                 │
└─────────────────────────────────────────────────┘
```

### 教师仪表盘 (对比)
```
┌─────────────────────────────────────────────────┐
│ 📚 Learning Activity System     👤 teacher_demo │
│                                    Teacher  Logout│
├─────────────────────────────────────────────────┤
│ 📊 Dashboard │ ➕ New Course │ 📝 New Activity  │
├─────────────────────────────────────────────────┤
│                                                 │
│ Teacher Dashboard                               │
│                                                 │
│ ┌─────────────┐ ┌─────────────┐               │
│ │➕ New Course│ │📝 New Activity│              │
│ └─────────────┘ └─────────────┘               │
│                                                 │
│ My Courses:                                     │
│ CS101 [Edit] [Delete]                          │
│ CS102 [Edit] [Delete]                          │
│                                                 │
└─────────────────────────────────────────────────┘
```

---

## ✅ 测试完成确认

如果所有检查项都通过，说明学生界面已经完全独立，不再包含教师功能！

**报告问题**:
如果发现任何学生界面中还有教师功能的痕迹，请记录：
1. 具体在哪个页面
2. 看到了什么不应该有的功能
3. 使用的账号和步骤

---

**开始测试吧！** 🚀
